!function(e,o,n,t){"use strict";function i(o){e(o).addClass("chameleon-viewer"),e(o).attr("tabindex","1"),s(o),c(o),r(o),m(o),e(o+" .chameleon-title").text(C[o].options.title),g(o,C[o].options.images.length),X(o)}function s(o){e(o).append('<div class="chameleon-elements-container"></div>');var n=o+" .chameleon-elements-container";e(n).append('<div class="chameleon-top-section"><div class="chameleon-top-left-section"></div><div class="chameleon-top-center-section"></div><div class="chameleon-top-right-section"></div></div>'),e(n).append('<div class="chameleon-bottom-section"><div class="chameleon-bottom-left-section"></div><div class="chameleon-bottom-center-section"></div><div class="chameleon-bottom-right-section"></div></div>'),e(n).append('<div class="chameleon-left-section"><div class="chameleon-left-top-section"></div><div class="chameleon-left-center-section"></div><div class="chameleon-left-bottom-section"></div></div>'),e(n).append('<div class="chameleon-right-section"><div class="chameleon-right-top-section"></div><div class="chameleon-right-center-section"></div><div class="chameleon-right-bottom-section"></div></div>'),e(n).hide()}function c(o){var n,t,i,s,c=Object.keys(C[o].positions);for(t=0;t<c.length;t++)for(n=Object.keys(C[o].positions[c[t]]),i=0;i<n.length;i++)e.isEmptyObject(C[o].positions[c[t]][n[i]])||(s=o+" .chameleon-"+c[t]+"-"+n[i]+"-section",a(s,C[o].positions[c[t]][n[i]]),"left"===c[t]||"right"===c[t]?("left"===c[t]?e(s).children().addClass("chameleon-push-left"):e(s).children().addClass("chameleon-push-right"),e(s).addClass("chameleon-vertical-section-padding")):e(s).addClass("chameleon-horizontal-section-padding"));e(o+" .chameleon-zoom-slide-container").hide(),e(o+" .chameleon-zoom-slider").attr("max",C[o].options.maxZoom),e(o+" .chameleon-zoom-slider").attr("min",C[o].options.minZoom),e(o+" .chameleon-zoom-slider").attr("value",C[o].options.minZoom),e(o+" .chameleon-zoom-slider").attr("step",C[o].options.zoomStep)}function a(o,n){for(var t=0;t<n.length;t++)e(o).append(l(n[t]))}function l(e){var o;switch(e){case"fullscreen":o='<img class="chameleon-fullscreen" src="chameleon_assets/fullscreen.png">';break;case"imagesNumber":o='<div class="chameleon-images-counter"><div class="chameleon-images-total-container"><span class="chameleon-images-separator">/</span><span class="chameleon-images-total"></span></div><input type="text" class="chameleon-images-current"></div>';break;case"nextArrow":o='<img class="chameleon-next-arrow" src="chameleon_assets/arrowNext.png" >';break;case"prevArrow":o='<img class="chameleon-prev-arrow" src="chameleon_assets/arrowPrev.png" >';break;case"subtitle":o='<div class="chameleon-subtitle"></div>';break;case"title":o='<div class="chameleon-title"></div>';break;case"zoom":o='<div class="chameleon-zoom-container"><img class="chameleon-zoom-in" src="chameleon_assets/zoomIn.png" ><div class="chameleon-zoom-slide-container"><input type="range" class="chameleon-zoom-slider"><img class="chameleon-zoom-out" src="chameleon_assets/zoomOut.png" ></div></div>';break;default:o=""}return o}function r(o){var n=C[o].options;""===n.title&&e(o+" .chameleon-title").hide(),n.subtitle||e(o+" .chameleon-subtitle").hide(),n.imagesCounter||e(o+" .chameleon-images-counter").hide(),n.fullscreen||e(o+" .chameleon-fullscreen").hide(),n.zoom||e(o+" .chameleon-zoom").hide()}function m(o){var n=C[o].options,t=n.currentImage;if(n.images.length>t&&t>=0){var i=n.images[t];"url"in i&&(e(o).css("background-image",'url("'+i.url+'")'),h(o,i.url)),"subtitle"in i&&e(o+" .chameleon-subtitle").text(i.subtitle),v(o,t+1)}else v(o,C[o].options.images.length)}function h(o,n){var t=new Image,i=e(o);t.src=n,e(o).css("background-size","contain"),e(t).load(function(){var n=p(t.width,t.height,i.width(),i.height());C[o].options.width=n.width,C[o].options.height=n.height,e(o).css("background-size",n.width+"px "+n.height+"px"),u(o)})}function p(e,o,n,t){var i=e/o,s=n/t,c=[];return e<=n&&o<=t?(c.width=e,c.height=o):e<=n&&o>t?(c.width=t*i,c.height=t):e>n&&o<=t?(c.width=n,c.height=n/i):i===s?(c.width=n,c.height=t):i>s?(c.width=n,c.height=n/i):(c.width=t*i,c.height=t),c}function u(o,n){var t,i,s=C[o].options,c=e(o).width(),a=e(o).height();void 0===n?(t=d(s.width,c,s.currentZoom),i=d(s.height,a,s.currentZoom)):(t=f(s.width,c,s.pixelX,s.currentZoom,n),i=f(s.height,a,s.pixelY,s.currentZoom,n)),C[o].options.pixelX=t,C[o].options.pixelY=i,void 0===n&&s.currentZoom===s.minZoom||n===s.minZoom?e(o).css("background-position",""):e(o).css("background-position",t+"px "+i+"px")}function d(e,o,n){return(o-e*n)/2}function f(e,o,n,t,i){if(e*i<=o)return d(e,o,i);var s=n+e*(t-i)/2;return s>0?s=0:s<o-e*i&&(s=o-e*i),s}function g(o,n){e(o+" .chameleon-images-total").text(n)}function v(o,n){e(o+" .chameleon-images-current").val(n)}function w(e,o){x(e,o),m(e)}function x(e,o){var n=C[e].options.currentImage+o,t=C[e].options.images.length;n>=t?n=0:n<0&&(n=t-1),C[e].options.currentImage=n}function b(o,n){var t=C[o].options;C[o].options.currentZoom!==n&&(e(o).css("background-size",t.width*n+"px "+t.height*n+"px"),u(o,n),C[o].options.currentZoom=n,n===C[o].options.minZoom?(e(o+" .chameleon-next-arrow").show(),e(o+" .chameleon-prev-arrow").show(),e(o+" .chameleon-elements-container").removeClass("chameleon-elements-container-zoom")):e(o+" .chameleon-next-arrow").is(":visible")&&(e(o+" .chameleon-next-arrow").hide(),e(o+" .chameleon-prev-arrow").hide(),e(o+" .chameleon-elements-container").addClass("chameleon-elements-container-zoom")))}function z(o,n,t){var i=C[o].options.width*C[o].options.currentZoom,s=C[o].options.height*C[o].options.currentZoom,c=e(o).width()-i,a=e(o).height()-s,l=!1;i>e(o).width()&&(C[o].options.pixelX+=n,l=!0,C[o].options.pixelX>0?C[o].options.pixelX=0:C[o].options.pixelX<c&&(C[o].options.pixelX=c)),s>e(o).height()&&(C[o].options.pixelY+=t,l=!0,C[o].options.pixelY>0?C[o].options.pixelY=0:C[o].options.pixelY<a&&(C[o].options.pixelY=a)),l&&e(o).css("background-position",C[o].options.pixelX+"px "+C[o].options.pixelY+"px")}function Z(e,o,n){var t=0;return isNaN(e)||(t=e%1===0&&e>0&&e<=n?e-1:o),t}function k(o,n){if(C[o].options.currentZoom>C[o].options.minZoom&&n<0||C[o].options.currentZoom<C[o].options.maxZoom&&n>0){var t=C[o].options.currentZoom+C[o].options.zoomStep*n;b(o,t),e(o+" .chameleon-zoom-slider").attr("value",t)}}function Y(o){e(o+" .chameleon-elements-container").is(":visible")?e(o+" .chameleon-elements-container").hide():e(o+" .chameleon-elements-container").show()}function X(i){var s=C[i].options,c=0,a=!1,l=!1,r=/Mobi/.test(navigator.userAgent);e(i).hover(function(){r||e(i+" .chameleon-images-current").is(":focus")||e(i+" .chameleon-elements-container").fadeIn(100)},function(){r||e(i+" .chameleon-images-current").is(":focus")||e(i+" .chameleon-elements-container").fadeOut(100)}),t.enabled&&(e(i+" .chameleon-fullscreen").click(function(){s.fullscreen&&(t.isFullscreen?t.exit():t.request(e(i)[0]))}),o.addEventListener(t.raw.fullscreenchange,function(){t.isFullscreen?(e(i+" .chameleon-fullscreen").attr("src","chameleon_assets/normalscreen.png"),e(i).addClass("chameleon-fullscreen-viewer")):(e(i+" .chameleon-fullscreen").attr("src","chameleon_assets/fullscreen.png"),e(i).removeClass("chameleon-fullscreen-viewer")),C[i].options.images.length>0&&h(i,C[i].options.images[C[i].options.currentImage].url)})),e(i+" .chameleon-next-arrow").click(function(){w(i,I)}),e(i+" .chameleon-prev-arrow").click(function(){w(i,y)}),e(i).keydown(function(o){s.keyArrows&&!e(i+" .chameleon-images-current").is(":focus")&&(39===o.which&&C[i].options.currentZoom===C[i].options.minZoom?w(i,I):37===o.which&&C[i].options.currentZoom===C[i].options.minZoom&&w(i,y)),e(i+" .chameleon-images-current").is(":focus")&&13===o.which&&(s.currentImage=Z(e(i+" .chameleon-images-current").val(),s.currentImage,s.images.length),m(i),e(i).focus(),0===e(i+":hover").length&&e(i+" .chameleon-elements-container").fadeOut(100))}),e(i+" .chameleon-zoom-container").hover(function(){e(i+" .chameleon-zoom-slide-container").slideDown(200)},function(){e(i+" .chameleon-zoom-slide-container").slideUp(200)}),e(i).on("input",".chameleon-zoom-slider",function(){b(i,parseFloat(e(this).val()))}),e(i).on("mousewheel",function(e){k(i,e.deltaY)}),e(i+" .chameleon-zoom-slider").keydown(function(){return!1}),e(i).on("mousedown",function(){a=!0}),e(i).click(function(){a&&0===e(i+" .chameleon-prev-arrow:hover").length&&0===e(i+" .chameleon-next-arrow:hover").length&&Y(i)}),C[i].options.hammer.on("swipeleft",function(){C[i].options.currentZoom===C[i].options.minZoom&&w(i,I)}).on("swiperight",function(){C[i].options.currentZoom===C[i].options.minZoom&&w(i,y)}).on("pinchstart",function(e){c=e.scale}).on("pinch",function(e){c>e.scale?k(i,-1):k(i,1),c=e.scale}).on("panstart",function(o){r?p(o.srcEvent.touches[0].pageX,o.srcEvent.touches[0].pageY,e(i).offset().left,e(i).offset().top):p(o.srcEvent.pageX,o.srcEvent.pageY,e(i).offset().left,e(i).offset().top)}).on("panmove",function(o){r?u(o.srcEvent.touches[0].pageX,o.srcEvent.touches[0].pageY,e(i).offset().left,e(i).offset().top):u(o.srcEvent.pageX,o.srcEvent.pageY,e(i).offset().left,e(i).offset().top)}).on("panend",function(){d()}),e(n).on("resize",function(){C[i].options.images.length>0&&h(i,C[i].options.images[C[i].options.currentImage].url)});var p=function(o,n,t,s){C[i].options.cursorDown.pixelX=o-t,C[i].options.cursorDown.pixelY=n-s,C[i].options.currentZoom!==C[i].options.minZoom&&0===e(i+" .chameleon-top-section:hover").length&&0===e(i+" .chameleon-bottom-section:hover").length&&0===e(i+" .chameleon-left-section:hover").length&&0===e(i+" .chameleon-right-section:hover").length&&(l=!0)},u=function(o,n,t,s){if(l){a&&(a=!1),e(i+" .chameleon-top-section").hide(),e(i+" .chameleon-bottom-section").hide(),e(i+" .chameleon-left-section").hide(),e(i+" .chameleon-right-section").hide();var c=o-t-C[i].options.cursorDown.pixelX,r=n-s-C[i].options.cursorDown.pixelY;C[i].options.cursorDown.pixelX=o-t,C[i].options.cursorDown.pixelY=n-s,z(i,c,r)}},d=function(){a||(l=!1,e(i+" .chameleon-top-section").show(),e(i+" .chameleon-bottom-section").show(),e(i+" .chameleon-left-section").show(),e(i+" .chameleon-right-section").show())}}var I=1,y=-1,C={};e.fn.chameleon=function(o,n){if("string"==typeof o&&o in e.fn.chameleon.externalFunctions)return e.fn.chameleon.externalFunctions[o](e(this).selector,n);if("object"==typeof o||void 0===o){var t=void 0!==o&&"options"in o?o.options:{},s=void 0!==o&&"positions"in o?o.positions:{};!(e(this).selector in C)&&e(this).length>0&&(t=e.extend({},e.fn.chameleon.options,t),s=e.extend({},e.fn.chameleon.positions,s),t.width=0,t.height=0,t.pixelX=0,t.pixelY=0,t.cursorDown={pixelX:0,pixelY:0},t.hammer=new Hammer(e(this)[0]),t.hammer.get("pinch").set({enable:!0}),t.hammer.get("pan").set({direction:Hammer.DIRECTION_ALL}),C[e(this).selector]={options:t,positions:s},i(e(this).selector))}},e.fn.chameleon.options={currentImage:0,currentZoom:1,fullscreen:!0,images:[],imagesCounter:!0,keyArrows:!0,maxZoom:3,minZoom:1,preview:"",previewType:"arrows",subtitle:!0,title:"",zoom:!0,zoomStep:.1},e.fn.chameleon.positions={top:{left:["title"],center:[],right:["zoom","fullscreen"]},bottom:{left:["subtitle"],center:[],right:["imagesNumber"]},left:{top:[],center:["prevArrow"],bottom:[]},right:{top:[],center:["nextArrow"],bottom:[]}},e.fn.chameleon.externalFunctions={images:function(e,o){return void 0===o?C[e].options.images:(C[e].options.images=o,C[e].options.currentImage=0,g(e,o.length),v(e,0),m(e),void 0)},title:function(o,n){return void 0===n?C[o].options.title:(C[o].options.title=n,e(o+" .chameleon-title").text(n),e(o+" .chameleon-title").is(":visible")||e(o+" .chameleon-title").show(),void 0)}}}(jQuery,document,window,screenfull);